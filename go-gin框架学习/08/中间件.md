# 中间件

[toc]


## 介绍

1.中间件是什么？

**中间件的意思就是，在一个请求被某个API处理之前需要执行的操作。**

举个例子，在一个管理系统里面，我要进行一些权限的操作，例如删除、新增、修改某些用户，这三个操作对应三个API。

而且这些操作都是需要进行权限判断的对吧（因为普通用户肯定是不可以有这些权限的）。

而进行权限判断的代码可以在这3个API的代码里面都写一份，但是这样很麻烦的对吧，万一以后又新增了一些接口，也是需要进行权限的判断，那么又要写一遍一模一样的判断权限的代码。

所以，这时候，我们可以写一个权限判断的中间件，这个中间件专门负责判断发送请求的用户是否有操作的权限



## 分类使用方式


## 中间件参数


## 内置中间件


* 全局中间件：注册中间件的过程之前设置的路由，将不会受注册的中间件所影响。只有注册了中间件之后代码的路由函数规则，才会被中间件装饰。
* 单个路由中间件：需要在注册路由时注册中间件
r.GET("/benchmark", MyBenchLogger(), benchEndpoint)
* 群组中间件：只要在群组路由上注册中间件函数即可。

